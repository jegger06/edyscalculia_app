<!--
  Generated template for the DiscoverPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar [hideBackButton]="user['account_id']">
    <ion-title>Chapter</ion-title>
    <ion-buttons (click)="goToLogin()" *ngIf="!hasUser" end>
      <button ion-button item-right icon-left>
        <ion-icon name="md-contacts"></ion-icon>
        Login
      </button>
    </ion-buttons>
    <ion-buttons class="not-included" (click)="presentPopover($event)" *ngIf="user['type_id']" end>
      <button ion-button item-right icon-only>
        <ion-icon name="md-more"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding class="card-background-page">
  <div *ngIf="chapterLists; else showNoRecord">
    <ion-card *ngFor="let chapterList of chapterLists" (click)="goToChapter(chapterList)">
      <div class="hightlight"></div>
      <img src="assets/imgs/test-chapter.jpg" alt="Chapter Icon">
      <div class="card-title">
        {{ chapterList['chapter_text'] }}
      </div>
      <div class="card-subtitle">
        {{ chapterList['chapter_date'] | date:"longDate" }}
      </div>
    </ion-card>
  </div>
  <ng-template #showNoRecord>
    <ion-card>
      <ion-card-content>
        No record of chapter for now.
      </ion-card-content>
    </ion-card>
  </ng-template>
</ion-content>
